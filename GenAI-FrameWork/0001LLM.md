# LLM - 언어모델 활용

## Transformer 사용하기
**1. 모델 임포트**
```
from transformers import pipeline
```


**2. 모델 불러오기**
- task 종류
    1. 긍정부정 분류 : sentiment-analysis
    2. 분류하기 : zero-shot-classification
    3. 번역하기 : translation
```
classifier = pipeline(task, model)
```


**3. 모델 사용**
```
# 긍정,부정 구분 모델 사용시
text=['dat'....] # 데이터 로드
classifier(text) # 사용

# 따로 분류 모델 사용시
text='dat'.... # 데이터 로드
candidate_labels = ["tech"...] # 분류 데이터 로드
result = classifier(text, candidate_labels) # 사용
print(f"Labels: {result['labels']}") # 라벨 표시
print(f"Scores: {result['scores']}") # 분류 점수 표시

# 번역
text_o = "" # 번역할 내용
translated_text_en = translator_ko_to_en(text_o, max_length=60) # 번역 수행
print(translated_text_en[0]['translation_text'])# 번역내용 출력

```


---
## OpenAI 사용하기
**1. 오픈 AI 설치 및 임포트 후 환경설정**
- 반드시 오픈AI api key가 존재해야 api 사용이 가능함
```
# 설치
!pip install openai -q

# 임포트
from openai import OpenAI

# 환경 설정
def load_api_keys(filepath=):
    with open(filepath, "r") as f:
        for line in f:
            line = line.strip()
            if line and "=" in line:
                key, value = line.split("=", 1)
                os.environ[key.strip()] = value.strip()

path =

# API 키 로드 및 환경변수 설정
load_api_keys(path + 'a.txt')
```


**2. OpenAI 모델 할당**
```
client = OpenAI()
```


**2. gpt 사용하기**
> **client.chat.completions.create**
- role : 전달할 대상 (user : 유저, system : 시스템 설정 = 컨셉)
- content : 내용
```
# 질문
question = ""

# 응답요청
response = client.chat.completions.create(
    model=,
    messages=[{"role": "user", 
        "content": question}])

# 출력
print(response.choices[0].message.content)
```


**3. STT 사용하기**
> **client.audio.transcriptions.create**
- 음성을 텍스트로 보여주는 것
- whisper-1 사용
```
# 음성 파일 로딩
file_name = path + ""

# 모델 사용
with open(file_name, "rb") as f:
    response = 
    client.audio.transcriptions.create( 
        model="whisper-1",
        file=f)

# 변환 결과
print(response.text)
```


**4. 그림 생성**
> **client.images.generate**
- "dall-e-3"
```
prompt = ""

response = client.images.generate(
    model=,
    prompt=,
    size=,
    n=1,
    quality="standard"  # 필요 시 "hd" 가능
)

# 생성된 이미지 URL 가져오기
response.data[0].url
```