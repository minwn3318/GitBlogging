# 2025.12.03
---
## 오늘 공부한 내용
- jsessionID 질문
- next.js 질문

<내용>
```
1. next.js의 메인함수에 해당하는 파일은 layout.js인가요?
2. layout의 변수인 {childern}은 무엇을 지칭하며, 이 변수를 통해 어떻게 각각의 페이지 컴포넌트를 쓸 수 있는건가요?
3. 각 컴포넌트의 리턴 값이 html구조인데 이걸 해당 파일에서 지정하기 보단 따로 html문서를 가져와서 그걸 리턴하는 방식으로 할 수 없나요?
4. 컴포넌트들을 jxs로 하였는데 js로 작성하고, 따로 html, css파일을 로드에 리턴하는것으로 할 수 없나요?

---

1. next.js의 메인함수에 해당하는 파일은 layout.js인가요?

엄밀히 말씀드리면, Next.js에는 개발자가 직접 접근할 수 있는 main() 함수가 없습니다. C언어나 Java처럼 프로그램의 시작점인 main 함수는 Next.js 프레임워크 내부 로직에 의해 자동으로 처리됩니다.

따라서 layout.js는 메인 함수가 아니라, 프레임워크가 실행된 후 가장 먼저 렌더링 하도록 약속된 '루트 컴포넌트(Root Component)'입니다. 즉, 실행을 명령하는 '주체'가 아니라, 실행되는 '대상'으로 이해하시는 것이 정확합니다.

2. layout의 변수인 {children}은 무엇을 지칭하며, 어떻게 페이지 컴포넌트를 쓸 수 있나요?

{children}은 특별한 마법의 변수가 아니라, React 컴포넌트 간에 데이터를 주고받는 props 객체의 속성 중 하나입니다.

[작동 원리]

Next.js 라우터가 URL을 확인하고 해당 경로의 page.js를 먼저 실행(렌더링)합니다.

그 결과물(리액트 엘리먼트)을 layout.js 컴포넌트의 인자로 전달합니다.

코드적으로는 Layout({ children: PageComponent }) 형태로 함수가 호출되는 구조라고 이해하시면 됩니다.

3 & 4. HTML/CSS 파일을 따로 분리해서 로드하고 리턴하는 방식으로 할 수 없나요?

결론부터 말씀드리면 "기술적으로는 가능하지만, React를 사용하는 의미가 사라집니다."

Node.js의 fs 모듈 등을 사용해 HTML 파일을 텍스트로 읽어와 강제로 넣을 수는 있습니다. 하지만 이렇게 하면 React의 핵심 기능인 상태 관리(State), 이벤트 처리, 가상 DOM을 통한 최적화를 전혀 사용할 수 없게 됩니다. 사실상 '죽어있는' 정적인 텍스트를 보여주는 것과 다를 바 없게 되므로, React 환경에서는 권장하지 않는 방식입니다.

학습에 참고하실 수 있는 공식 문서 링크를 함께 전달해 드립니다.

Next.js 공식 문서 (Pages and Layouts): https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts
```

<내용 2>
```
이전에 유니티 게임과 스프링 부트 서버를 쓰는 미니 프로젝트에서 jsessionID를 쓴 경험이 있습니다. 이 때는 유니티게임 (모바일)과 서버가 다른 서버에서 구동되었고, 이 jsessionID를 이용해 간단한 로그인을 구현하였습니다. 그런데 강사님께서 세션은 서버와 클라이언트가 같은 곳에 있어야만 사용가능하다 하셨습니다. 그러나 또 jsessionID는 세션 그 자체라기보단 쿠키값이라고 설명해주셨습니다. 그럼 jsessionID는 세션자체가 아니라 세션을 구분하는 세션아이디인 쿠키값이라 서버와 클라이언트가 같은 곳에 있지 않아도 세션을 사용할 수 있게 한건가요??

---

1. JSESSIONID는 세션 자체가 아니라 '식별자'인가요? 
->네, 맞습니다. JSESSIONID는 서버 메모리에 저장된 세션 데이터를 찾기 위한 '참조 키(번호표)' 역할을 합니다. 따라서 이 식별자만 유효하게 전달된다면, 서버와 클라이언트가 물리적으로 떨어져 있어도 기술적으로 세션을 연결하는 데에는 문제가 없습니다.

2. 강사님은 왜 '같은 곳'에 있어야 한다고 하셨을까요? 
->강사님의 설명은 '웹 브라우저 환경'을 전제로 하셨을 가능성이 높습니다. 웹 브라우저는 보안 정책(SOP, CORS 등)상 도메인이 다를 경우 쿠키 전송을 제한하는 경우가 많으므로, 웹 개발 수업에서는 편의상 동일 도메인 구성을 권장하는 편입니다.

3. 유니티에서는 왜 서버와 위치가 달라도 가능했을까요? 
->유니티와 같은 네이티브 애플리케이션은 브라우저 샌드박스 정책의 영향을 받지 않기 때문입니다. 에이블러님께서 클라이언트단(Unity)에서 쿠키 헤더를 직접 제어하여 전송했기 때문에 원격 통신이 가능했던 것으로 보입니다.

```

## 공부 시간
- 1분

## 느낀점
- 웹에 보안정책이 꽤 많구나
- 프레임워크 라이브러리에 개발 철학을 알고 싶어졌다

## 다음에 공부하고 싶은 내용
- 코테
- 자바 깔끔하게 정리하기
- 자바 스프링 깔끔하게 정리하기
- invoke와 chat.completions.create 코드 비교
- 굳이 그래프 형태의 langchain으로 llm을 구상해야하는 이유 탐구